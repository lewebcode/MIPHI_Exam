# Docker Compose переменные окружения
# Скопируйте этот файл в .env и отредактируйте для вашего окружения

# ============================================
# ОБЩИЕ НАСТРОЙКИ
# ============================================

# Имя проекта (используется как префикс для контейнеров и сетей)
COMPOSE_PROJECT_NAME=miphi-exam

# ============================================
# EUREKA SERVER
# ============================================

EUREKA_PORT=8761
EUREKA_MEMORY=512m
EUREKA_CPU_LIMIT=1

# ============================================
# API GATEWAY
# ============================================

GATEWAY_PORT=8080
GATEWAY_MEMORY=512m
GATEWAY_CPU_LIMIT=1

# JWT Secret для Gateway
JWT_SECRET=your-secret-key-change-this-in-production

# ============================================
# HOTEL SERVICE
# ============================================

HOTEL_SERVICE_PORT=8081
HOTEL_SERVICE_MEMORY=512m
HOTEL_SERVICE_CPU_LIMIT=1

# Database
HOTEL_DB_NAME=hoteldb
HOTEL_DB_USERNAME=sa
HOTEL_DB_PASSWORD=

# Hibernate DDL auto (validate, update, create, create-drop)
HOTEL_HIBERNATE_DDL=update

# ============================================
# BOOKING SERVICE
# ============================================

BOOKING_SERVICE_PORT=8082
BOOKING_SERVICE_MEMORY=512m
BOOKING_SERVICE_CPU_LIMIT=1

# Database
BOOKING_DB_NAME=bookingdb
BOOKING_DB_USERNAME=sa
BOOKING_DB_PASSWORD=

# Hibernate DDL auto
BOOKING_HIBERNATE_DDL=update

# Hotel Service URL для запросов
HOTEL_SERVICE_URL=http://hotel-service:8081/api

# JWT настройки
JWT_EXPIRATION=3600000

# ============================================
# ЛОГИРОВАНИЕ
# ============================================

# Root level (TRACE, DEBUG, INFO, WARN, ERROR)
LOGGING_LEVEL_ROOT=INFO

# Application level (TRACE, DEBUG, INFO, WARN, ERROR)
LOGGING_LEVEL_APPLICATION=DEBUG

# Spring Cloud level (TRACE, DEBUG, INFO, WARN, ERROR)
LOGGING_LEVEL_SPRING_CLOUD=INFO

# ============================================
# HEALTHCHECK НАСТРОЙКИ
# ============================================

# Интервал проверки здоровья (в секундах)
HEALTHCHECK_INTERVAL=10

# Таймаут ответа healthcheck (в секундах)
HEALTHCHECK_TIMEOUT=5

# Количество повторов перед отметкой как нездорового
HEALTHCHECK_RETRIES=5

# Начальный период ожидания запуска (в секундах)
HEALTHCHECK_START_PERIOD=40

# ============================================
# PRODUCTION SETTINGS (раскомментируйте для prod)
# ============================================

# EUREKA_ENABLE_SELF_PRESERVATION=false
# EUREKA_REGISTRY_SYNC_RETRIES=5

# SPRING_PROFILES_ACTIVE=production
# MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,metrics,info
# MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when-authorized
